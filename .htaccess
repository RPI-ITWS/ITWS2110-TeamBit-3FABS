Options -MultiViews
RewriteEngine On
    RewriteBase /project/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^browse$ browse/new [R=302,C]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^browse/(new|top) browse.php?sort=$1 [QSA,C]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^browse/(new|top)/([0-9]+)$ browse.php?sort=$1&page=$2 [QSA,C]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^browse/friend/(new|top)$ browse.php?sort=$1&friend=1 [QSA,C]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^browse/friend/(new|top)/([0-9]+)$ browse.php?sort=$1&page=$2&friend=1 [QSA,C]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^login$ login.php [QSA,L]